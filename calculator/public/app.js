!function(Q){var t={};function F(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return Q[n].call(s.exports,s,s.exports,F),s.l=!0,s.exports}F.m=Q,F.c=t,F.d=function(Q,t,n){F.o(Q,t)||Object.defineProperty(Q,t,{enumerable:!0,get:n})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,t){if(1&t&&(Q=F(Q)),8&t)return Q;if(4&t&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var n=Object.create(null);if(F.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:Q}),2&t&&"string"!=typeof Q)for(var s in Q)F.d(n,s,function(t){return Q[t]}.bind(null,s));return n},F.n=function(Q){var t=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(t,"a",t),t},F.o=function(Q,t){return Object.prototype.hasOwnProperty.call(Q,t)},F.p="",F(F.s=1)}([function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL21haW4uc2Nzcz80Mzg0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/styles/main.scss\nvar main = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/js/Calculator.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to set private field on non-instance\"); } var descriptor = privateMap.get(receiver); if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; return value; }\n\n/** Calculator class  */\nvar Calculator =\n/*#__PURE__*/\nfunction () {\n  // private property\n  function Calculator() {\n    _classCallCheck(this, Calculator);\n\n    _result.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _result, null);\n  }\n\n  _createClass(Calculator, [{\n    key: \"addition\",\n    value: function addition(valueOne, valueTwo) {\n      this.result = Number(valueOne) + Number(valueTwo);\n      return this.result;\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract(valueOne, valueTwo) {\n      this.result = Number(valueOne) - Number(valueTwo);\n      return this.result;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(valueOne, valueTwo) {\n      this.result = Number(valueOne) * Number(valueTwo);\n      return this.result;\n    }\n  }, {\n    key: \"divide\",\n    value: function divide(valueOne, valueTwo) {\n      this.result = Number(valueOne) / Number(valueTwo);\n      return this.result;\n    }\n  }, {\n    key: \"percentage\",\n    value: function percentage(valueOne, valueTwo) {\n      this.result = Number(valueOne) * Number(valueTwo) / 100;\n      return this.result;\n    }\n  }]);\n\n  return Calculator;\n}();\n\nvar _result = new WeakMap();\n\n/* harmony default export */ var js_Calculator = (Calculator);\n// CONCATENATED MODULE: ./src/js/helpers.js\nvar parseHTML = function parseHTML(str) {\n  return document.createRange().createContextualFragment(str).children[0];\n};\nvar isNumber = function isNumber(number) {\n  return /[0-9]+/.test(number);\n};\n// CONCATENATED MODULE: ./src/js/UI.js\nfunction UI_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction UI_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction UI_createClass(Constructor, protoProps, staticProps) { if (protoProps) UI_defineProperties(Constructor.prototype, protoProps); if (staticProps) UI_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n // UI variables\n\nvar $buttons = document.getElementById('buttons');\nvar $operation = document.getElementById('operation');\nvar $result = document.getElementById('result');\nvar $btnToggleHistory = document.getElementById('toggle-history');\nvar $history = document.getElementById('history');\nvar $operationList = document.getElementById('operation-list');\nvar keys = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '/', '*', '-', '+', '%', 'Enter', '.', 'Backspace'];\n/** UI class  */\n\nvar UI_UI =\n/*#__PURE__*/\nfunction () {\n  function UI() {\n    UI_classCallCheck(this, UI);\n\n    _defineProperty(this, \"buildHistoryItem\", function (operation) {\n      var template = \"\\n      <li class=\\\"operation\\\">\\n        <span class=\\\"op\\\">\".concat(operation.op, \"</span>\\n        <span class=\\\"result\\\">\").concat(operation.result, \"</span>\\n      </li>\\n    \");\n      return parseHTML(template);\n    });\n\n    this.valueOne = '';\n    this.valueTwo = '';\n    this.operation = '';\n    this.result = null;\n    this.history = [];\n    this.firstOperation = true;\n    this.handleKeyup = this.handleKeyup.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  UI_createClass(UI, [{\n    key: \"init\",\n    value: function init() {\n      $buttons.addEventListener('click', this.handleClick);\n      window.addEventListener('keyup', this.handleKeyup);\n      $btnToggleHistory.addEventListener('click', this.toggleHistory);\n      this.updateResult('0');\n      this.calculator = new js_Calculator();\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var button = e.target.dataset.button;\n      this.doButtonAction(button);\n    }\n  }, {\n    key: \"handleKeyup\",\n    value: function handleKeyup(e) {\n      var button = e.key;\n\n      if (keys.includes(button)) {\n        if (button === 'Enter') {\n          this.doButtonAction('=');\n        } else if (button === 'Backspace') {\n          this.doButtonAction('ac');\n        }\n\n        this.doButtonAction(button);\n      }\n    }\n  }, {\n    key: \"doButtonAction\",\n    value: function doButtonAction(button) {\n      if (isNumber(button)) {\n        // first operation\n        if (!this.result) {\n          if (!this.valueTwo && !this.operation) {\n            this.valueOne += button;\n            this.updateOperation();\n          } else if (this.valueOne && this.operation) {\n            this.valueTwo += button;\n            this.updateOperation();\n          } // after first operation\n\n        } else if (!this.firstOperation) {\n          if (!this.valueTwo && !this.operation) {\n            this.valueOne += button;\n            this.updateOperation();\n          } else if (this.valueOne && this.operation) {\n            this.valueTwo += button;\n            this.updateOperation();\n          } else if (this.operation && !this.valueOne && !this.valueTwo) {\n            this.valueOne = this.result;\n            this.valueTwo += button;\n            this.updateOperation();\n          }\n        }\n      } // set operation\n\n\n      if (button === '/' || button === '*' || button === '-' || button === '+' || button === '%') {\n        if (this.result === 0) this.valueOne = '0';\n        if (!this.valueOne && !this.valueTwo && this.firstOperation) return;\n        this.operation = button;\n        this.updateOperation();\n      } // decimal separator\n\n\n      if (button === '.') {\n        if (!this.operation) {\n          if (this.valueOne.includes('.')) return;\n          this.valueOne += button;\n        } else {\n          if (this.valueTwo.includes('.')) return;\n          this.valueTwo += button;\n        }\n      } // all clear button\n\n\n      if (button === 'ac') this.allClear();\n\n      if (button === '=') {\n        this.firstOperation = false;\n\n        switch (this.operation) {\n          case '+':\n            this.result = this.calculator.addition(this.valueOne, this.valueTwo);\n            this.addToHistory();\n            this.reset();\n            break;\n\n          case '-':\n            this.result = this.calculator.subtract(this.valueOne, this.valueTwo);\n            this.addToHistory();\n            this.reset();\n            break;\n\n          case '*':\n            this.result = this.calculator.multiply(this.valueOne, this.valueTwo);\n            this.addToHistory();\n            this.reset();\n            break;\n\n          case '/':\n            if (this.valueTwo === '0') {\n              this.reset();\n              this.result = 'error';\n              break;\n            }\n\n            this.result = this.calculator.divide(this.valueOne, this.valueTwo);\n            this.addToHistory();\n            this.reset();\n            break;\n\n          case '%':\n            this.result = this.calculator.percentage(this.valueOne, this.valueTwo);\n            this.addToHistory();\n            this.reset();\n            break;\n\n          default:\n            break;\n        }\n\n        this.updateResult();\n      }\n\n      console.table(this);\n    }\n  }, {\n    key: \"updateResult\",\n    value: function updateResult(value) {\n      $result.textContent = value || this.result;\n    }\n  }, {\n    key: \"updateOperation\",\n    value: function updateOperation() {\n      $operation.textContent = \"\".concat(this.valueOne).concat(this.operation).concat(this.valueTwo);\n    }\n  }, {\n    key: \"addToHistory\",\n    value: function addToHistory() {\n      var _this = this;\n\n      // just save last 5 operations\n      if (this.history.length >= 5) this.history.shift();\n      this.history.push({\n        op: \"\".concat(this.valueOne).concat(this.operation).concat(this.valueTwo),\n        result: \"\".concat(this.result)\n      });\n      $operationList.innerHTML = '';\n      this.history.map(function (operation) {\n        $operationList.appendChild(_this.buildHistoryItem(operation));\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.valueOne = '';\n      this.valueTwo = '';\n      this.operation = '';\n    }\n  }, {\n    key: \"allClear\",\n    value: function allClear() {\n      this.valueOne = '';\n      this.valueTwo = '';\n      this.operation = '';\n      this.result = null;\n      this.firstOperation = true;\n      this.history.length = 0;\n      $operationList.innerHTML = '';\n      this.updateOperation();\n      this.updateResult('0');\n    }\n  }, {\n    key: \"toggleHistory\",\n    value: function toggleHistory() {\n      $history.classList.toggle('is-visible');\n    }\n  }]);\n\n  return UI;\n}();\n\n/* harmony default export */ var js_UI = (UI_UI);\n// CONCATENATED MODULE: ./src/js/main.js\n\n\n\nwindow.onload = function () {\n  var ui = new js_UI();\n  ui.init();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvQ2FsY3VsYXRvci5qcz84Yjk4Iiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwZXJzLmpzP2RlYTQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1VJLmpzP2JmYjkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanM/OTI5MSJdLCJuYW1lcyI6WyJDYWxjdWxhdG9yIiwidmFsdWVPbmUiLCJ2YWx1ZVR3byIsInJlc3VsdCIsIk51bWJlciIsInBhcnNlSFRNTCIsInN0ciIsImRvY3VtZW50IiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQiLCJjaGlsZHJlbiIsImlzTnVtYmVyIiwibnVtYmVyIiwidGVzdCIsIiRidXR0b25zIiwiZ2V0RWxlbWVudEJ5SWQiLCIkb3BlcmF0aW9uIiwiJHJlc3VsdCIsIiRidG5Ub2dnbGVIaXN0b3J5IiwiJGhpc3RvcnkiLCIkb3BlcmF0aW9uTGlzdCIsImtleXMiLCJVSSIsIm9wZXJhdGlvbiIsInRlbXBsYXRlIiwib3AiLCJoaXN0b3J5IiwiZmlyc3RPcGVyYXRpb24iLCJoYW5kbGVLZXl1cCIsImJpbmQiLCJoYW5kbGVDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJ0b2dnbGVIaXN0b3J5IiwidXBkYXRlUmVzdWx0IiwiY2FsY3VsYXRvciIsImUiLCJidXR0b24iLCJ0YXJnZXQiLCJkYXRhc2V0IiwiZG9CdXR0b25BY3Rpb24iLCJrZXkiLCJpbmNsdWRlcyIsInVwZGF0ZU9wZXJhdGlvbiIsImFsbENsZWFyIiwiYWRkaXRpb24iLCJhZGRUb0hpc3RvcnkiLCJyZXNldCIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJkaXZpZGUiLCJwZXJjZW50YWdlIiwiY29uc29sZSIsInRhYmxlIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInNoaWZ0IiwicHVzaCIsImlubmVySFRNTCIsIm1hcCIsImFwcGVuZENoaWxkIiwiYnVpbGRIaXN0b3J5SXRl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QyxFQUFFLEdBQUcsSUFBSTVDLEtBQUosRUFBWDtBQUNBNEMsSUFBRSxDQUFDQyxJQUFIO0FBQ0QsQ0FIRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIENhbGN1bGF0b3IgY2xhc3MgICovXG5jbGFzcyBDYWxjdWxhdG9yIHtcbiAgLy8gcHJpdmF0ZSBwcm9wZXJ0eVxuICAjcmVzdWx0O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiNyZXN1bHQgPSBudWxsO1xuICB9XG4gIGFkZGl0aW9uKHZhbHVlT25lLCB2YWx1ZVR3bykge1xuICAgIHRoaXMucmVzdWx0ID0gTnVtYmVyKHZhbHVlT25lKSArIE51bWJlcih2YWx1ZVR3byk7XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICB9XG4gIHN1YnRyYWN0KHZhbHVlT25lLCB2YWx1ZVR3bykge1xuICAgIHRoaXMucmVzdWx0ID0gTnVtYmVyKHZhbHVlT25lKSAtIE51bWJlcih2YWx1ZVR3byk7XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICB9XG4gIG11bHRpcGx5KHZhbHVlT25lLCB2YWx1ZVR3bykge1xuICAgIHRoaXMucmVzdWx0ID0gTnVtYmVyKHZhbHVlT25lKSAqIE51bWJlcih2YWx1ZVR3byk7XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICB9XG4gIGRpdmlkZSh2YWx1ZU9uZSwgdmFsdWVUd28pIHtcbiAgICB0aGlzLnJlc3VsdCA9IE51bWJlcih2YWx1ZU9uZSkgLyBOdW1iZXIodmFsdWVUd28pO1xuICAgIHJldHVybiB0aGlzLnJlc3VsdDtcbiAgfVxuICBwZXJjZW50YWdlKHZhbHVlT25lLCB2YWx1ZVR3bykge1xuICAgIHRoaXMucmVzdWx0ID0gKE51bWJlcih2YWx1ZU9uZSkgKiBOdW1iZXIodmFsdWVUd28pKSAvIDEwMDtcbiAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENhbGN1bGF0b3I7XG4iLCJleHBvcnQgY29uc3QgcGFyc2VIVE1MID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpLmNoaWxkcmVuWzBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gIHJldHVybiAvWzAtOV0rLy50ZXN0KG51bWJlcik7XG59O1xuIiwiaW1wb3J0IENhbGN1bGF0b3IgZnJvbSAnLi9DYWxjdWxhdG9yJztcbmltcG9ydCB7IHBhcnNlSFRNTCwgaXNOdW1iZXIgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG4vLyBVSSB2YXJpYWJsZXNcbmNvbnN0ICRidXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbnMnKTtcbmNvbnN0ICRvcGVyYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlcmF0aW9uJyk7XG5jb25zdCAkcmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpO1xuY29uc3QgJGJ0blRvZ2dsZUhpc3RvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWhpc3RvcnknKTtcbmNvbnN0ICRoaXN0b3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnknKTtcbmNvbnN0ICRvcGVyYXRpb25MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZXJhdGlvbi1saXN0Jyk7XG5cbmNvbnN0IGtleXMgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnLycsICcqJywgJy0nLCAnKycsICclJywgJ0VudGVyJywgJy4nLCAnQmFja3NwYWNlJ107XG5cbi8qKiBVSSBjbGFzcyAgKi9cbmNsYXNzIFVJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy52YWx1ZU9uZSA9ICcnO1xuICAgIHRoaXMudmFsdWVUd28gPSAnJztcbiAgICB0aGlzLm9wZXJhdGlvbiA9ICcnO1xuICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICB0aGlzLmhpc3RvcnkgPSBbXTtcbiAgICB0aGlzLmZpcnN0T3BlcmF0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLmhhbmRsZUtleXVwID0gdGhpcy5oYW5kbGVLZXl1cC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICAkYnV0dG9ucy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlS2V5dXApO1xuICAgICRidG5Ub2dnbGVIaXN0b3J5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVIaXN0b3J5KTtcbiAgICB0aGlzLnVwZGF0ZVJlc3VsdCgnMCcpO1xuICAgIHRoaXMuY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZSkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGUudGFyZ2V0LmRhdGFzZXQuYnV0dG9uO1xuICAgIHRoaXMuZG9CdXR0b25BY3Rpb24oYnV0dG9uKTtcbiAgfVxuICBoYW5kbGVLZXl1cChlKSB7XG4gICAgY29uc3QgYnV0dG9uID0gZS5rZXk7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoYnV0dG9uKSkge1xuICAgICAgaWYgKGJ1dHRvbiA9PT0gJ0VudGVyJykge1xuICAgICAgICB0aGlzLmRvQnV0dG9uQWN0aW9uKCc9Jyk7XG4gICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gJ0JhY2tzcGFjZScpIHtcbiAgICAgICAgdGhpcy5kb0J1dHRvbkFjdGlvbignYWMnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9CdXR0b25BY3Rpb24oYnV0dG9uKTtcbiAgICB9XG4gIH1cbiAgZG9CdXR0b25BY3Rpb24oYnV0dG9uKSB7XG4gICAgaWYgKGlzTnVtYmVyKGJ1dHRvbikpIHtcbiAgICAgIC8vIGZpcnN0IG9wZXJhdGlvblxuICAgICAgaWYgKCF0aGlzLnJlc3VsdCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWVUd28gJiYgIXRoaXMub3BlcmF0aW9uKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZU9uZSArPSBidXR0b247XG4gICAgICAgICAgdGhpcy51cGRhdGVPcGVyYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlT25lICYmIHRoaXMub3BlcmF0aW9uKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZVR3byArPSBidXR0b247XG4gICAgICAgICAgdGhpcy51cGRhdGVPcGVyYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZnRlciBmaXJzdCBvcGVyYXRpb25cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZmlyc3RPcGVyYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlVHdvICYmICF0aGlzLm9wZXJhdGlvbikge1xuICAgICAgICAgIHRoaXMudmFsdWVPbmUgKz0gYnV0dG9uO1xuICAgICAgICAgIHRoaXMudXBkYXRlT3BlcmF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZU9uZSAmJiB0aGlzLm9wZXJhdGlvbikge1xuICAgICAgICAgIHRoaXMudmFsdWVUd28gKz0gYnV0dG9uO1xuICAgICAgICAgIHRoaXMudXBkYXRlT3BlcmF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcGVyYXRpb24gJiYgIXRoaXMudmFsdWVPbmUgJiYgIXRoaXMudmFsdWVUd28pIHtcbiAgICAgICAgICB0aGlzLnZhbHVlT25lID0gdGhpcy5yZXN1bHQ7XG4gICAgICAgICAgdGhpcy52YWx1ZVR3byArPSBidXR0b247XG4gICAgICAgICAgdGhpcy51cGRhdGVPcGVyYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBzZXQgb3BlcmF0aW9uXG4gICAgaWYgKGJ1dHRvbiA9PT0gJy8nIHx8IGJ1dHRvbiA9PT0gJyonIHx8IGJ1dHRvbiA9PT0gJy0nIHx8IGJ1dHRvbiA9PT0gJysnIHx8IGJ1dHRvbiA9PT0gJyUnKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHQgPT09IDApIHRoaXMudmFsdWVPbmUgPSAnMCc7XG4gICAgICBpZiAoIXRoaXMudmFsdWVPbmUgJiYgIXRoaXMudmFsdWVUd28gJiYgdGhpcy5maXJzdE9wZXJhdGlvbikgcmV0dXJuO1xuICAgICAgdGhpcy5vcGVyYXRpb24gPSBidXR0b247XG4gICAgICB0aGlzLnVwZGF0ZU9wZXJhdGlvbigpO1xuICAgIH1cbiAgICAvLyBkZWNpbWFsIHNlcGFyYXRvclxuICAgIGlmIChidXR0b24gPT09ICcuJykge1xuICAgICAgaWYgKCF0aGlzLm9wZXJhdGlvbikge1xuICAgICAgICBpZiAodGhpcy52YWx1ZU9uZS5pbmNsdWRlcygnLicpKSByZXR1cm47XG4gICAgICAgIHRoaXMudmFsdWVPbmUgKz0gYnV0dG9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVUd28uaW5jbHVkZXMoJy4nKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnZhbHVlVHdvICs9IGJ1dHRvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gYWxsIGNsZWFyIGJ1dHRvblxuICAgIGlmIChidXR0b24gPT09ICdhYycpIHRoaXMuYWxsQ2xlYXIoKTtcblxuICAgIGlmIChidXR0b24gPT09ICc9Jykge1xuICAgICAgdGhpcy5maXJzdE9wZXJhdGlvbiA9IGZhbHNlO1xuICAgICAgc3dpdGNoICh0aGlzLm9wZXJhdGlvbikge1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICB0aGlzLnJlc3VsdCA9IHRoaXMuY2FsY3VsYXRvci5hZGRpdGlvbih0aGlzLnZhbHVlT25lLCB0aGlzLnZhbHVlVHdvKTtcbiAgICAgICAgICB0aGlzLmFkZFRvSGlzdG9yeSgpO1xuICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNhbGN1bGF0b3Iuc3VidHJhY3QodGhpcy52YWx1ZU9uZSwgdGhpcy52YWx1ZVR3byk7XG4gICAgICAgICAgdGhpcy5hZGRUb0hpc3RvcnkoKTtcbiAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5jYWxjdWxhdG9yLm11bHRpcGx5KHRoaXMudmFsdWVPbmUsIHRoaXMudmFsdWVUd28pO1xuICAgICAgICAgIHRoaXMuYWRkVG9IaXN0b3J5KCk7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICBpZiAodGhpcy52YWx1ZVR3byA9PT0gJzAnKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9ICdlcnJvcic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNhbGN1bGF0b3IuZGl2aWRlKHRoaXMudmFsdWVPbmUsIHRoaXMudmFsdWVUd28pO1xuICAgICAgICAgIHRoaXMuYWRkVG9IaXN0b3J5KCk7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICclJzpcbiAgICAgICAgICB0aGlzLnJlc3VsdCA9IHRoaXMuY2FsY3VsYXRvci5wZXJjZW50YWdlKHRoaXMudmFsdWVPbmUsIHRoaXMudmFsdWVUd28pO1xuICAgICAgICAgIHRoaXMuYWRkVG9IaXN0b3J5KCk7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVSZXN1bHQoKTtcbiAgICB9XG4gICAgY29uc29sZS50YWJsZSh0aGlzKTtcbiAgfVxuICB1cGRhdGVSZXN1bHQodmFsdWUpIHtcbiAgICAkcmVzdWx0LnRleHRDb250ZW50ID0gdmFsdWUgfHwgdGhpcy5yZXN1bHQ7XG4gIH1cbiAgdXBkYXRlT3BlcmF0aW9uKCkge1xuICAgICRvcGVyYXRpb24udGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlT25lfSR7dGhpcy5vcGVyYXRpb259JHt0aGlzLnZhbHVlVHdvfWA7XG4gIH1cbiAgYWRkVG9IaXN0b3J5KCkge1xuICAgIC8vIGp1c3Qgc2F2ZSBsYXN0IDUgb3BlcmF0aW9uc1xuICAgIGlmICh0aGlzLmhpc3RvcnkubGVuZ3RoID49IDUpIHRoaXMuaGlzdG9yeS5zaGlmdCgpO1xuXG4gICAgdGhpcy5oaXN0b3J5LnB1c2goe1xuICAgICAgb3A6IGAke3RoaXMudmFsdWVPbmV9JHt0aGlzLm9wZXJhdGlvbn0ke3RoaXMudmFsdWVUd299YCxcbiAgICAgIHJlc3VsdDogYCR7dGhpcy5yZXN1bHR9YCxcbiAgICB9KTtcblxuICAgICRvcGVyYXRpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuaGlzdG9yeS5tYXAob3BlcmF0aW9uID0+IHtcbiAgICAgICRvcGVyYXRpb25MaXN0LmFwcGVuZENoaWxkKHRoaXMuYnVpbGRIaXN0b3J5SXRlbShvcGVyYXRpb24pKTtcbiAgICB9KTtcbiAgfVxuICBidWlsZEhpc3RvcnlJdGVtID0gb3BlcmF0aW9uID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGBcbiAgICAgIDxsaSBjbGFzcz1cIm9wZXJhdGlvblwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm9wXCI+JHtvcGVyYXRpb24ub3B9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdFwiPiR7b3BlcmF0aW9uLnJlc3VsdH08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIGA7XG4gICAgcmV0dXJuIHBhcnNlSFRNTCh0ZW1wbGF0ZSk7XG4gIH07XG4gIHJlc2V0KCkge1xuICAgIHRoaXMudmFsdWVPbmUgPSAnJztcbiAgICB0aGlzLnZhbHVlVHdvID0gJyc7XG4gICAgdGhpcy5vcGVyYXRpb24gPSAnJztcbiAgfVxuICBhbGxDbGVhcigpIHtcbiAgICB0aGlzLnZhbHVlT25lID0gJyc7XG4gICAgdGhpcy52YWx1ZVR3byA9ICcnO1xuICAgIHRoaXMub3BlcmF0aW9uID0gJyc7XG4gICAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICAgIHRoaXMuZmlyc3RPcGVyYXRpb24gPSB0cnVlO1xuICAgIHRoaXMuaGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICRvcGVyYXRpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMudXBkYXRlT3BlcmF0aW9uKCk7XG4gICAgdGhpcy51cGRhdGVSZXN1bHQoJzAnKTtcbiAgfVxuICB0b2dnbGVIaXN0b3J5KCkge1xuICAgICRoaXN0b3J5LmNsYXNzTGlzdC50b2dnbGUoJ2lzLXZpc2libGUnKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVSTtcbiIsImltcG9ydCAnLi4vc3R5bGVzL21haW4uc2Nzcyc7XG5pbXBvcnQgVUkgZnJvbSAnLi9VSSc7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgdWkgPSBuZXcgVUkoKTtcbiAgdWkuaW5pdCgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")}]);